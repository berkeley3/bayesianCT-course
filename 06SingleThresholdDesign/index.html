<!DOCTYPE html>
<html>
<head>
  <title>Bayesian Clinical Trials</title>

  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <link rel="stylesheet" media="all" href="index_files/ioslides-13.5.1/fonts/fonts.css">

  <link rel="stylesheet" media="all" href="index_files/ioslides-13.5.1/theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="index_files/ioslides-13.5.1/theme/css/phone.css">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Bayesian Clinical Trials',
                        subtitle: 'Single Threshold Design',
                useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                favIcon: 'index_files/logo.png',
              },

      // Author information
      presenters: [
            ]
    };
  </script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }

    slides > slide:not(.nobackground):before {
      font-size: 12pt;
      content: "";
      position: absolute;
      bottom: 20px;
      left: 60px;
      background: url(index_files/logo.png) no-repeat 0 50%;
      -webkit-background-size: 30px 30px;
      -moz-background-size: 30px 30px;
      -o-background-size: 30px 30px;
      background-size: 30px 30px;
      padding-left: 40px;
      height: 30px;
      line-height: 1.9;
    }
  </style>

  <link rel="stylesheet" href="assets\css\ioslides.css" type="text/css" />


</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <aside class="gdbar"><img src="index_files/logo.png"></aside>
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
          </hgroup>
  </slide>

<slide class=''><hgroup><h2>Phase II clinical trials</h2></hgroup><article  id="phase-ii-clinical-trials">

<ul>
<li><strong>Features:</strong> early trial in patients</li>
<li><strong>Purpose:</strong>

<ul>
<li>dose ranging</li>
<li>adverse events</li>
<li>pathophysiology</li>
<li>limited efficacy data</li>
</ul></li>
<li><strong>Design:</strong>

<ul>
<li>single-stage</li>
<li>multi-stage (Simon&#39;s optimal and minimax design)</li>
</ul></li>
</ul>

</article></slide><slide class=''><hgroup><h2>Two-stage design</h2></hgroup><article  id="two-stage-design">

<ul>
<li>A small group of patients are enrolled in the first stage</li>
<li>The enrollment of another group of patients in stage 2 is <em>conditional</em> on the outcome of the first group

<ul>
<li>activating the second stage depends on an adequate number of responses observed from the first stage</li>
</ul></li>
</ul>

<p><br></br> <strong>Rationale:</strong> to not enroll a large group of patients (as in conventional one-stage designs) whether not sure if the new treatment is effective</p>

</article></slide><slide class=''><hgroup><h2>Two-stage design</h2></hgroup><article  id="two-stage-design-1">

<ul>
<li><p>A phase II trial is an uncontrolle trial (tipically one-arm, open-label) to obtain an estimate of the degree of a new treatment (agent) effect</p></li>
<li>The aim is to see if the new agent has sufficient activity against a specific target (i.e, type of tumor, etc.) to warrant its further development

<ul>
<li>to combine with other drugs in a phase III trial comparing survival results with a standard treatment</li>
</ul></li>
</ul>

</article></slide><slide class=''><hgroup><h2>Single Threshold Design (STD)</h2></hgroup><article  id="single-threshold-design-std">

<ul>
<li>\(R_U\): target response</li>
<li>\(\pi_{prior}\): anticipated response rate</li>
<li>\(\lambda_1\) and \(\lambda_2\): threshold probabilities (at the interim stage and at the end of the trial) that the true response rate \(\pi\) exceeds \(R_U\)</li>
</ul>

<p>Let the primary endpoint be a dichotomous variable \(X\) (e.g \(X\sim Bin(n,\pi)\)):</p>

<p>-\(\pi\) represents the probability of success, for which a conjugate prior <em>Beta</em> distribution is chosen: \(\pi\sim Beta(\alpha, \beta)\)</p>

</article></slide><slide class=''><hgroup><h2>Bayesian sample sizing as pre-posterior analysis</h2></hgroup><article  id="bayesian-sample-sizing-as-pre-posterior-analysis">

<ul>
<li>\(R_U\): target response</li>
<li>\(\lambda\): minimum desired threshold probability that the true response rate \(\pi\) exceeds \(R_U\)</li>
</ul>

<p>Suppose \(X\) is specified from the target response plus some small value (e.g. 0.05): \[X=(R_U+0.05)\times n\]</p>

<p>The posterior probability \(P[(\pi|X,\alpha, \beta)&gt;R_U]\) is computed:</p>

<ul>
<li>if it exceeds \(\lambda \Longrightarrow n\) is the chosen sample size</li>
<li>if it does not exceeds \(\lambda \Longrightarrow\) the posterior calculation is repeated for \(n+1\) and continue until \(\lambda\) is exceeded.</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Two-stage design</h2></hgroup><article  id="two-stage-design-2">

<ul>
<li>\(n\) patients are recruited to stage 1</li>
<li>possibily further \(N-n\) patients are recruited to stage 2</li>
</ul>

<p><strong>Practical constraints:</strong> There is often practical lower and upper limits to the total study size N:</p>

<ul>
<li>designs with stage 1 fewer than 5 patients are unlikely to be adopted</li>
<li>2 stage designs with N larger than 100 are unlikely to be adopted</li>
<li>typically total sample size \(N\) lies between 10 and 90</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Two-stage design</h2></hgroup><article  id="two-stage-design-3">

<p>Suppose \(X_1\) and \(X_2\) represent the hypothetical data that would arise from the trial (they are specified from the target response \(R_U\) plus some small value \(\epsilon_U\in(0,0.1)\) (e.g. 0.05)</p>

<p>We are searching for:</p>

<ul>
<li>the smallest N for which \(P(\pi &gt; R_U|X_1,X_2)&gt;\lambda_2\)</li>
<li>at the same time, the smallest stage 1 sample size \(n\) such that: \(P(\pi &gt; R_U|X_1)&gt;\lambda_1\)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Computational algorithms</h2></hgroup><article  id="computational-algorithms">

<p>Tan&amp;Machin used a \(Beta(\alpha,\beta)\) vague prior distribution for \(\pi\), where \[
\alpha = \pi_{prior} +1, \qquad \beta = (1-\pi_{prior})+1
\]</p>

<p><img src="index_files/figure-html/unnamed-chunk-1-1.png" title="" alt="" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=''><hgroup><h2>Computational algorithms</h2></hgroup><article  id="computational-algorithms-1">

<ul>
<li>Specify \(R_U, \pi_{prior}, \lambda_1\) and \(\lambda_2\); \(\epsilon_U = 0.05\)</li>
<li>Set the overall number of successes as \(X=(R_U+\epsilon_U)\times N\), starting from \(N=10\) \(\Longrightarrow X \sim Binomial(N, R_U+\epsilon_U)\)</li>
<li>Set the prior \(\pi\sim Beta(\pi_{prior}+1; (1-\pi_{prior})+1)\)</li>
<li><p>Compute the posterior \[
\pi\vert X_1,X_2,\alpha, \beta = Beta(\alpha&#39;;\beta&#39;) 
\] where</p></li>
<li>\(\alpha&#39; = \pi_{prior}+1+(R_U+\epsilon_U)\times N\)</li>
<li><p>\(\beta&#39; = 1-\pi_{prior}+1+N-(R_U+\epsilon_U)\times N\)</p></li>
</ul>

</article></slide><slide class=''><hgroup><h2>Priors</h2></hgroup><article  id="priors">

<p>Different ways to build prior distribution \(Beta(\alpha,\beta)\) for \(\pi\):</p>

<ul>
<li>Building priors solely on the prior parameters and interpreting \(\alpha + \beta\) as the total number of subjects (Gelman):

<ul>
<li>\(\alpha\) successes and \(\beta\) failures</li>
</ul></li>
<li>Using 90th percent probability interval \(W_{90} = (5th, 95th)\)-percentiles and elicit information from investigators or past studies through the percentile approach</li>
</ul>

<p>Informative and non-informative priors</p>

<ul>
<li><strong>Informative priors</strong> are narrow and reflect the knowledge of strong prior information</li>
<li><strong>Non-informative priors</strong> are flat and reflect little prior information</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Prior elicitation</h2></hgroup><article  id="prior-elicitation">

<p>Two steps for eliciting a-priori distribution</p>

<ol>
<li>eliciting the center value by asking the clinician &quot;what is the most likely response reate you expect to occur?&quot;

<ul>
<li>finding out whether the response is the mean, median or the mode</li>
</ul></li>
<li>assessing the uncertainty in the &quot;most likely response rate&quot;

<ul>
<li>elicitation of \(W_{90}\) is easy for clinicians who think in terms of percentiles</li>
<li>\(W_{90}\) can be elicited by asking clinicians how uncertain they are regarding their center value</li>
<li>for mode answer, the question can be posed as &quot;prior sample size&quot; (increasing or decreasing \(\alpha + \beta\))</li>
</ul></li>
</ol>

</article></slide><slide class=''><hgroup><h2>How to build priors</h2></hgroup><article  id="how-to-build-priors">

<ol>
<li><p><strong>mode (non-informative):</strong></p>

<ul>
<li>it has prior parameters \(\alpha = \pi_{prior}+1\) and \(\beta = 1-\pi_{prior}+1\)</li>
<li>it has the interpretation of a mode and a prior sample size of \(\alpha+\beta=3\)</li>
</ul></li>
<li><p><strong>mode (informative):</strong></p>

<ul>
<li>it has prior parameters \(\alpha = \pi_{prior}+1+n_{prior}\pi_{prior}\) and \(\beta = 1-\pi_{prior}+1+n_{prior}(1-\pi_{prior})\)</li>
<li>it has the interpretation of a mode and a prior sample size of \(\alpha+\beta=n_{prior}+3\)</li>
</ul></li>
</ol>

</article></slide><slide class=''><hgroup><h2>How to build priors</h2></hgroup><article  id="how-to-build-priors-1">

<ol>
<li><p><strong>median (informative):</strong></p>

<ul>
<li>we elicit \(\pi_{prior}\) assuming it is the <em>median</em> and we elicit also \(W_{90}\)</li>
<li>this requires solving the system:</li>
</ul></li>
</ol>

<p>\[
F(\pi_{prior}\vert\alpha\beta) =0.5 \\
F^{-1}(0.95\vert\alpha\beta) -F^{-1}(0.05\vert\alpha\beta) = W_{90} 
\]</p>

<ol>
<li><p><strong>mean (informative):</strong></p>

<ul>
<li>we elicit \(\pi_{prior}\) assuming it is the <em>mean</em> and we elicit also \(W_{90}\)</li>
<li>this requires solving the system:</li>
</ul></li>
</ol>

<p>\[
E(y)=\pi_{prior} \\
F^{-1}(0.95\vert\alpha\beta) -F^{-1}(0.05\vert\alpha\beta) = W_{90} 
\]</p>

</article></slide><slide class=''><hgroup><h2>Sample size calculation</h2></hgroup><article  id="sample-size-calculation">

<pre class = 'prettyprint lang-r'>source(&#39;R\\singleThresholdDesign.R&#39;)
source(&#39;R\\informativePriors.R&#39;)</pre>

<ul>
<li><p>sample size calcultion using the <strong>non-informative mode</strong> prior:</p></li>
<li><p>\(R_U=0.2\), \(\pi_{prior}=R_U+0.05\) and \(\lambda=0.8\)</p></li>
</ul>

<pre class = 'prettyprint lang-r'>stage2(ru = 0.2, pi = 0.2 + 0.05, lambda = 0.8)</pre>

<pre >## $N
## [1] 32
## 
## $posterior
## [1] 0.8023008</pre>

</article></slide><slide class=''><hgroup><h2>Sample size calculation</h2></hgroup><article  id="sample-size-calculation-1">

<ul>
<li><p>Sample size calculation using the <strong>informative mode</strong> prior with \(n_{prior}=10\):</p></li>
<li><p>\(R_U=0.2\), \(\pi_{prior}=R_U+0.05\), \(W_{90}=0.3\) and \(\lambda=0.8\)</p></li>
</ul>

<pre class = 'prettyprint lang-r'>pparameter(pi=0.2+0.05, w90=0.3, prior.method=&#39;mode-informative&#39;)</pre>

<pre >## $alpha
## [1] 3.75
## 
## $beta
## [1] 9.25</pre>

<pre class = 'prettyprint lang-r'>stage2(ru=0.2, pi=0.2+0.05, lambda=0.8, alpha = 3.75, beta = 9.25)</pre>

<pre >## $N
## [1] 22
## 
## $posterior
## [1] 0.8023008</pre>

</article></slide><slide class=''><hgroup><h2>Sample size calculation</h2></hgroup><article  id="sample-size-calculation-2">

<ul>
<li><p>Sample size calculation using the <strong>informative median</strong> prior:</p></li>
<li><p>\(R_U=0.2\), \(\pi_{prior}=R_U+0.05\), \(W_{90}=0.3\) and \(\lambda=0.8\)</p></li>
</ul>

<pre class = 'prettyprint lang-r'>pparameter(pi=0.2+0.05, w90=0.3, prior.method=&#39;median-informative&#39;)</pre>

<pre >## $alpha
## [1] 5.613544
## 
## $beta
## [1] 16.1849</pre>

<pre class = 'prettyprint lang-r'>stage2(ru=0.2, pi=0.2+0.05, lambda=0.8, alpha = 5.61, beta = 16.19)</pre>

<pre >## $N
## [1] 27
## 
## $posterior
## [1] 0.8005037</pre>

</article></slide><slide class=''><hgroup><h2>Sample size calculation</h2></hgroup><article  id="sample-size-calculation-3">

<ul>
<li><p>Sample size calculation using the <strong>informative mean</strong> prior:</p></li>
<li><p>\(R_U=0.2\), \(\pi_{prior}=R_U+0.05\), \(W_{90}=0.3\) and \(\lambda=0.8\)</p></li>
</ul>

<pre class = 'prettyprint lang-r'>pparameter(pi=0.2+0.05, w90=0.3, prior.method=&#39;mean-informative&#39;)</pre>

<pre >## $alpha
## [1] 5.331685
## 
## $beta
## [1] 15.99505</pre>

<pre class = 'prettyprint lang-r'>stage2(ru=0.2, pi=0.2+0.05, lambda=0.8, alpha = 5.33, beta = 16)</pre>

<pre >## $N
## [1] 34
## 
## $posterior
## [1] 0.80136</pre>

</article></slide><slide class=''><hgroup><h2>Pessimistic and optimistic sample size calculations</h2></hgroup><article  id="pessimistic-and-optimistic-sample-size-calculations">

<p>Using the routines provided, try to find the sample size for different values of \(R_U\) according to these definitions of:</p>

<ul>
<li><strong>very optimistic prior</strong>: \(\pi_{prior} = R_U + 0.05\)</li>
<li><strong>optimistic prior</strong>: \(\pi_{prior} = R_U\)</li>
<li><strong>pessimistic prior</strong>: \(\pi_{prior} = R_U -0.2\)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Fill in the table</h2></hgroup><article  id="fill-in-the-table">

<table class = 'rmdtable'>
<col width="10%" />
<col width="39%" />
<col width="19%" />
<col width="14%" />
<col width="15%" />
<tr class="header">
<th align="left">\(R_U\)</th>
<th align="left">Prior Type</th>
<th align="left">Very Optimistic</th>
<th align="left">Optimistic</th>
<th align="left">Pessimistic</th>
</tr>
<tr class="odd">
<td align="left"><p>0.40</p></td>
<td align="left"><ul>
<li>non informative mode</li>
<li>informative mode \(n_{prior=10}\)</li>
<li>informative median</li>
<li>informative mean</li>
</ul></td>
<td align="left"><ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><p>0.70</p></td>
<td align="left"><ul>
<li>non informative mode</li>
<li>informative mode \(n_{prior=10}\)</li>
<li>informative median</li>
<li>informative mean</li>
</ul></td>
<td align="left"><ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</table>

</article></slide><slide class=''><hgroup><h2>Sample size versus \(W_{90}\)</h2></hgroup><article  id="sample-size-versus-w_90">

<ul>
<li>\(R_U=0.2\), \(\pi_{prior}=R_U\)</li>
</ul>

<center>

<img src='images/figurew90.bmp'; width=500; height=400 >

</center>

</article></slide><slide class=''><hgroup><h2>Sample size versus \(W_{90}\)</h2></hgroup><article  id="sample-size-versus-w_90-1">

<p>Plot the relationship between \(W_{90}\) and sample size \(n\) for \(R_U=0.6\) for</p>

<ul>
<li><strong>very optimistic prior</strong>: \(\pi_{prior} = R_U + 0.05\)</li>
<li><strong>optimistic prior</strong>: \(\pi_{prior} = R_U\)</li>
<li><strong>pessimistic prior</strong>: \(\pi_{prior} = R_U -0.2\)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>R code</h2></hgroup><article  id="r-code">

<pre class = 'prettyprint lang-r'>w90=seq(from=0.3, to=0.8, length.out = 25)
ru=0.2; pi=ru; lambda=0.8
n.ni=NULL; n.med=NULL; n.mea=NULL

for(i in 1:length(w90)){
  n.ni[i] = stage2(ru=ru, pi=pi, lambda = lambda)
  param = pparameter(pi=pi, w90=w90[i], prior.method=&#39;median-informative&#39;)
  n.med[i] = stage2(ru=ru, pi=pi, lambda = lambda, alpha = param$alpha, beta = param$beta)
  param = pparameter(pi=pi, w90=w90[i], prior.method=&#39;mean-informative&#39;)
  n.mea[i] = stage2(ru=ru, pi=pi, lambda = lambda, alpha = param$alpha, beta = param$beta)
}
plot(w90, unlist(n.ni), lty=&#39;solid&#39;, xlim=c(0.2,0.9),ylim=c(20,80), ylab=&#39;n&#39;)
lines(w90, unlist(n.med), lty=&#39;dotted&#39;)
lines(w90, unlist(n.mea), lty=&#39;longdash&#39;)
legend(&#39;topright&#39;, lty=c(&#39;solid&#39;,&#39;dotted&#39;,&#39;longdash&#39;), 
       legend=c(&#39;non-informative&#39;,&#39;median&#39;,&#39;mean&#39;))</pre>

</article></slide><slide class='segue dark nobackground'><hgroup class = 'auto-fadein'><h2>Case Study</h2></hgroup><article  id="case-study">

<ul>
<li>Phase II clinical trial to assess the response to gemcitabile plus docetaxel among patients with leiomyosarcome (LMS)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Problem statistical setup</h2></hgroup><article  id="problem-statistical-setup">

<ul>
<li><strong>endpoint:</strong> (binary) tumor response: yes/no (Response Criteria)</li>
<li><strong>null hypothesis:</strong> \(H_0: \pi = \pi_0\)

<ul>
<li>\(\pi\) is the true response (proportion of patients whose tumors shrink by at least 30%)</li>
<li>\(\pi_0\) is a predetermined undesirable level (pu)</li>
</ul></li>
<li><strong>alternative hypothesis:</strong> \(H_A: \pi = \pi_A\)

<ul>
<li>\(\pi_A\) is a desirable response rate (pa) _ <strong>Type I and type II errors:</strong> \(\alpha\) and \(\beta\)</li>
</ul></li>
<li><strong>basis for decision:</strong> minimize the number of patients treated in the trial if \(H_0\) is true</li>
</ul>

</article></slide><slide class=''><hgroup><h2>The two stage design</h2></hgroup><article  id="the-two-stage-design">

<ul>
<li>enroll \(n_1\) patients at stage 1:

<ul>
<li>the trial is stopped if \(r_1\) or fewer responses are observed</li>
<li>otherwise goes on to the second stage</li>
</ul></li>
<li>enross \(n_2\) patients at stage 2:

<ul>
<li>the trial is not recommended for further development if a total of \(r (r &gt; r_1)\) or fewer responses are observed at both stages</li>
</ul></li>
</ul>

</article></slide><slide class=''><hgroup><h2>Probability of early termination and expected sample size</h2></hgroup><article  id="probability-of-early-termination-and-expected-sample-size">

<p>PET: the probability to observe \(r_1\) or fewer responses at the first stage</p>

<p>\[
PET(\pi) = P(R_1\leq r_1| n_1, \pi)
\] where P is the cumulative Binomial probability.</p>

<p>EN: expected sample size \[
EN(\pi)= n_1 + (1-PET(\pi))\times n_2
\]</p>

</article></slide><slide class=''><hgroup><h2>Probability of not recommending (PNR)</h2></hgroup><article  id="probability-of-not-recommending-pnr">

<p>The drug is not remmended if the trial is terminated early (i.e. fewer than \(r_1\) responses are observed at the first stage) or fewer than \(r = r_1 + r_2\) are observed at the end of both stages</p>

<p>\[
PNR(\pi) = P(R_1\leq r_1| n_1, \pi) + \sum_{x=r_1+1}^{\min(n_1,r)} Binom(x|n_1,\pi)\times P(R\leq r-x| n_1, \pi)
\]</p>

</article></slide><slide class=''><hgroup><h2>Two types of errors</h2></hgroup><article  id="two-types-of-errors">

<ul>
<li>type I error: \(\alpha = 1- PNR(\pi_0)\)</li>
<li>type II error: \(\beta = 1- PNR(\pi_A)\)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Simon&#39;s approach</h2></hgroup><article  id="simons-approach">

<ul>
<li>Specify the parameters \(\pi_0\), \(\pi_A\), \(\alpha\) and \(\beta\)</li>
<li>Determine the two stage design that satisfies the errors probabilities \(\alpha\) and \(\beta\) and minimizes the expected sample size when the response probability is \(\pi_0\) (optimal design)</li>
<li>Determine the two stage design that satisfies the errors probabilities \(\alpha\) and \(\beta\) and minimizes the maximum sample size when the response probability is \(\pi_0\) (minimax design)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Sample size according to Simon two-stage design</h2></hgroup><article  id="sample-size-according-to-simon-two-stage-design">

<pre class = 'prettyprint lang-r'>library(clinfun)</pre>

<pre >## Warning: package &#39;clinfun&#39; was built under R version 3.2.2</pre>

<pre class = 'prettyprint lang-r'>ph2simon(pu=0.05, pa=0.15, ep1=0.05, ep2=0.3)</pre>

<pre >## 
##  Simon 2-stage Phase II design 
## 
## Unacceptable response rate:  0.05 
## Desirable response rate:  0.15 
## Error rates: alpha =  0.05 ; beta =  0.3 
## 
##         r1 n1 r  n EN(p0) PET(p0)
## Optimal  1 19 4 43  24.89  0.7547
## Minimax  0 17 4 39  29.80  0.4181</pre>

</article></slide><slide class=''><hgroup><h2></h2></hgroup><article  id="section">

<pre class = 'prettyprint lang-r'>library(clinfun)

plot(ph2simon(pu=0.05, pa=0.15, ep1=0.05, ep2=0.3))</pre>

<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" title="" alt="" width="720" /></p>

</article></slide><slide class=''><hgroup><h2>STD Design</h2></hgroup><article  id="std-design">

<p>Try to find the number of patients enrolled if a STD was adopted using for comparatibe purposes:</p>

<ul>
<li>a non informative very optimistic prior (\(\pi_{prior}=R_U+0.05\) )</li>
<li>an informative mode prior (\(n_{prior}=10\))</li>
<li>the median and mean ifnormative priors with \(W_{90}=0.3\)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>R code</h2></hgroup><article  id="r-code-1">

<pre class = 'prettyprint lang-r'>stage2(ru=0.15, pi=0.2, lambda=0.8)

pparameter(pi=0.2, w90=0.3, prior.method=&#39;mode-informative&#39;)
stage2(ru=0.15, pi=0.2, lambda=0.8, alpha = 3.2, beta = 9.8)

pparameter(pi=0.2, w90=0.3, prior.method=&#39;median-informative&#39;)
stage2(ru=0.15, pi=0.2, lambda=0.8, alpha = 3.91, beta = 14.68)

pparameter(pi=0.2, w90=0.3, prior.method=&#39;mean-informative&#39;)
stage2(ru=0.15, pi=0.2, lambda=0.8, alpha = 3.55, beta = 14.23)</pre>

</article></slide><slide class=''><hgroup><h2>Getting the slides</h2></hgroup><article  id="getting-the-slides">

<ul>
<li>The slides for this course were created with Rmarkdown: <a href='http://rmarkdown.rstudio.com/' title=''><a href='http://rmarkdown.rstudio.com/' title=''>http://rmarkdown.rstudio.com/</a></a>.</li>
<li>They are available from <a href='https://github.com/berkeley3/bayesianCT-course' title=''><a href='https://github.com/berkeley3/bayesianCT-course' title=''>https://github.com/berkeley3/bayesianCT-course</a></a>.</li>
<li><p>To re-compile the slides:</p>

<ul>
<li>Download the directory containing the lecture from Github</li>
<li>In R open the .Rmd file and set the working directory to the lecture directory</li>
<li>Click the <em>KnitHTML</em> button on Rstudio or run the following commands:</li>
</ul></li>
</ul>

<pre class = 'prettyprint lang-r'>library(rmarkdown) 
render(&quot;index.Rmd&quot;)</pre></article></slide>


  <slide class="backdrop"></slide>

</slides>

<script src="index_files/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
<script src="index_files/ioslides-13.5.1/js/prettify/prettify.js"></script>
<script src="index_files/ioslides-13.5.1/js/prettify/lang-r.js"></script>
<script src="index_files/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
<script src="index_files/ioslides-13.5.1/js/hammer.js"></script>
<script src="index_files/ioslides-13.5.1/js/slide-controller.js"></script>
<script src="index_files/ioslides-13.5.1/js/slide-deck.js"></script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "index_files/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
